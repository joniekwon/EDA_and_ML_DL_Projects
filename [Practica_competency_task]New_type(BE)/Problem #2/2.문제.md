# 서버 헬스 체크 & Echo POST

> 신규 고객 서비스를 위한 API Server를 개발합니다.

## 1. 문제 풀이의 기본 조건
응시자는 아래의 요구사항에 맞는 응답을 처리하기 위한 API 서버를 완성해야 합니다. `채점하기` 버튼을 누르면 응시자가 구성한 서버로 요청을 보내 채점을 진행합니다. 각 문항별 `요청(Request)`은 채점코드가 요청하는 내용을 의미하고 `응답(Response)`는 응시자가 구현한 서버에서 응답하는 내용을 의미합니다. 지문에 있는 요청 예시 및 응답 예시는 실제 채점 케이스와는 다릅니다.

### 1.1. 공통 사항

- 기본으로 설정된 서버의 주소와 포트는 `0.0.0.0:5678`이며 이는 수정하지 않습니다.
- 모든 API 응답은 기본적으로 상태 코드 `200`과 함께 `application/json` 형식으로 반환합니다. 
  - 단, 문제에서 따로 제시한 부분은 그에 맞게 설정합니다.
- 잘못된 URL 또는 HTTP 메서드에 대한 요청을 처리하기 위해 적절한 오류 메시지와 상태 코드를 반환해야 합니다.
- 테스트 환경에서는 실제 데이터베이스나 파일 시스템을 사용하지 않습니다. 모든 데이터는 메모리 내에서 처리됩니다.

### 1.2. 개발 환경
구현해야 하는 서버의 endpoint는 아래와 같습니다.
```
  - 0.0.0.0:5678
    - /server-health-check
    - /echo
```

## 2. API 개요
### 2.1. 공통 사항
별도의 언급이 없는 경우 아래 조건에 맞춰 응답을 처리합니다.
- API 서버의 정상 응답은 상태 코드 `200`을 포함하여 응답합니다.
- Header의 `Content-Type`을 `application/json`으로 설정하고 JSON 형식으로 응답합니다.

### 2.2. 응답 처리

- 본 문제는 실제 데이터베이스를 사용하지 않습니다. 
- 따라서 주어진 JSON 파일을 활용하여 데이터를 구성하고 문항 별로 필요한 응답은 DB 혹은 파일 형태로 저장하지 않고 HTTP Response 형태로 반환해야합니다.

## 3. API 상세
### 1번 문제. 서버 헬스 체크

---

클라이언트가 요청을 보내면 서버는 정상적으로 동작하고 있음을 클라이언트 측에 알려주어야 합니다.

- API 서버로의 요청 형식은 다음과 같습니다.
  - URL: `0.0.0.0:5678/server-health-check`
  - method: `GET`
- 요청에 따른 응답은 아래와 같이 구성됩니다.
  - 정상적인 경우
    - `{"result": "ok"}`

#### ✅ 요청 예시

```bash
curl -X GET 0.0.0.0:5678/server-health-check \
-H 'Content-Type: application/json'
```

#### ✅ 응답 예시

**정상적인 응답인 경우**
```json
{
  "result": "ok"
}
```

### 2번 문제. Echo POST

---

클라이언트가 데이터와 함께 요청을 보내면 서버는 그 데이터를 그대로 다시 응답해야합니다. 이때 일정 주기로 일부 데이터가 누락되는 경우가 발생합니다. 이를 올바르게 처리하여 클라이언트에게 응답해야합니다.


- API 서버로의 요청 형식은 다음과 같습니다.
  - URL: `0.0.0.0:5678/echo`
  - method: `POST`
- 요청에 따른 응답은 아래와 같이 구성됩니다.
  - 정상적인 경우
    - `name`: 요청에서 받은 `name` 값
    - `message`: 요청에서 받은 `message` 값
  - 문제가 있는 경우
    - 일정 주기로 `name` 혹은 `message` 필드가 누락되거나 포맷이 올바르지 않은 경우(e.g. `name`이 아닌 `name2`로 요청이 오는 경우)가 발생합니다. 
      - status code: `400`
      - error: `"Invalid data format"` 

#### ✅ 요청 예시

```bash
curl -X POST "0.0.0.0:5678/echo" \
-H 'Content-Type: application/json' \
-d '{
  "name": "justin", 
  "message": "hello world!"
  }'
```

#### ✅ 응답 예시

**정상적인 응답인 경우**
```json
{
  "name": "justin",
  "message": "hello world!"
}
```

**문제가 있는 경우 - 포맷이 올바르지 않은 경우**
```json
{
  "error": "Invalid data format"
}
```